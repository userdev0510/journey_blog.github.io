!function(){"use strict";var e,t={209:function(){var e=window.wp.element,t=window.wp.blockEditor,r=window.wp.components,a=window.wp.escapeHtml,n=r=>{const{attributes:n}=r,l=n.maxRating,i=n.starAmount,s=n.rating,c=parseFloat(i*(s/l)),o=(c%1*100).toFixed(2)+"%",u=r.editor?(0,t.useBlockProps)({className:"sptcrb__rating__block_wrapper"}):t.useBlockProps.save({className:"sptcrb__rating__block_wrapper"});return(0,e.createElement)("div",u,(0,e.createElement)("div",{class:"sptcrb__rating__block__header"},(0,e.createElement)("h3",null,(0,e.createElement)("span",null,(0,a.escapeHTML)(n.ratingText),":")," ",(0,a.escapeHTML)(n.rating.toString())),(0,e.createElement)("div",{className:"sptcrb__rating__block__header__stars",style:{"--spbblocks-rating-block-percentage":o}},(0,e.createElement)((()=>{for(var e=[],t=1;t<=parseInt(i);t++){let r=t<=c?" filled":" empty";r=t>c&&c%1==c%(t-1)?" percent":r,e.push(React.createElement("div",{class:"sptcrb__rating__block__header__stars_item"+r},React.createElement("i",{class:"fas fa-star"})))}return e}),null))),(0,e.createElement)("div",{className:"sptcrb__rating__block__ratingbar"},(0,e.createElement)((()=>n.reviews.map((t=>(0,e.createElement)("div",{class:"sptcrb__rating__block__ratingbar__item"},(0,e.createElement)("h4",null,(0,a.escapeHTML)(t.title)),(0,e.createElement)("div",{class:"sptcrb__rating__block__ratingbar__item_rating"},(0,e.createElement)("div",{class:"sptcrb__rating__block__ratingbar__item_rating__inner",style:{width:parseFloat(t.rating)/l*100+"%"}})))))),null)))},l=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"superb-blocks/superb-rating","version":"0.1.0","title":"Superb Rating Block","category":"widgets","icon":"star-filled","supports":{"html":false},"textdomain":"superb-blocks","editorScript":"file:../../build/superb-rating.js","editorStyle":"file:../../build/superb-rating.css","style":"file:../../build/style-superb-rating.css"}');const{name:i,...s}=l,{__:__}=wp.i18n,{registerBlockType:c}=wp.blocks;c(i,{...s,keywords:[__("superb rating block"),__("rating block"),__("review block"),__("rating bar")],attributes:{maxRating:{type:"string",default:5},rating:{type:"string",default:0},ratingText:{type:"string",default:__("Overall Rating")},reviews:{type:"array",default:[{title:"Rating Title",rating:0}]},useAverage:{type:"boolean",default:!0},starAmount:{type:"number",default:5}},example:{attributes:{maxRating:5,rating:4.7,ratingText:"Overall Rating",reviews:[{title:"Superb Blocks",rating:5},{title:"SuperbThemes",rating:5},{title:"Weather",rating:4.3}],useAverage:!0,starAmount:5}},edit:a=>{const{attributes:l,setAttributes:i}=a,{useEffect:s}=wp.element,{__:__}=wp.i18n,c={sanitizeNumber:e=>isNaN(e)?0:parseFloat(e),sanitizeLink:e=>{if(!e)return"";const t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};return e.replace(/[<>"']/gi,(e=>t[e]))}};a.editor=!0,s((()=>{if(l.useAverage){let t=0;if(l.reviews.length>0){for(var e=0;e<l.reviews.length;e++)t+=parseFloat(l.reviews[e].rating);t/=l.reviews.length}const r=c.sanitizeNumber(t).toFixed(1);i({rating:r})}}),[l.reviews,l.useAverage]);const o=e=>{const t=[...l.reviews];t[e.target.name].title=e.target.value,i({reviews:t})},u=e=>{const t=c.sanitizeNumber(e.target.value),r=[...l.reviews];r[e.target.name].rating=t>=l.maxRating?l.maxRating:t,i({reviews:r})};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.InspectorControls,null,(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{class:"spb_upgrade"},(0,e.createElement)("p",null,"Get premium & unlock all features")," ",(0,e.createElement)("a",{href:"https://superbthemes.com/plugins/superb-blocks/",target:"_blank",rel:"noopener noreferrer"},"Read More"))),(0,e.createElement)(r.PanelBody,{title:"Overall Rating",initialOpen:!1},(0,e.createElement)("label",{className:"components-base-control__label sptcrb-control-label"},"Max Rating"),(0,e.createElement)("div",{class:"sptcrb__rating__block__ratingbar_rating__column"},(0,e.createElement)("input",{type:"number",min:"1",max:"100",defaultValue:l.maxRating,onChange:function(e){const t=l.maxRating,r=e.target.value;i({maxRating:c.sanitizeNumber(r)});const a=[...l.reviews];a.forEach((e=>e.rating=(r*(e.rating/t)).toFixed(1))),i({reviews:a})}})),(0,e.createElement)("label",{className:"components-base-control__label sptcrb-control-label"},"Overall Rating"),(0,e.createElement)("div",{class:"sptcrb__rating__block__ratingbar_rating__column"},(0,e.createElement)("input",{id:"sptcrb__rating-input",type:"number",min:"0",max:l.maxRating,defaultValue:l.rating,value:l.rating,onChange:function(e){i({rating:c.sanitizeNumber(e.target.value)})},disabled:l.useAverage?"disabled":""})),(0,e.createElement)("div",{class:"sptcrb__rating__block__checkbox"},(0,e.createElement)(r.CheckboxControl,{label:__("Use Rating Bar Average as Overall Rating","sptcrb"),onChange:e=>{i({useAverage:e})},checked:l.useAverage}))),(0,e.createElement)(r.PanelBody,{title:"Rating Bars",initialOpen:!0},(0,e.createElement)("div",{class:"sptcrb__rating__block__ratingbar_button"},(0,e.createElement)("button",{onClick:()=>{const e=[...l.reviews];e.push({title:"",rating:0}),i({reviews:e})}},"Add Rating Bar")),(0,e.createElement)("div",{class:"sptcrb__rating__block__review"},l.reviews.map(((t,r)=>(0,e.createElement)("div",null,(0,e.createElement)("button",{onClick:()=>{(e=>{console.log(e);const t=[...l.reviews];t.splice(e,1),i({reviews:t})})(r)}},"x"),(0,e.createElement)("input",{type:"text",name:r,placeholder:__("Rating Title","sptcrb"),defaultValue:t.title,value:t.title,onChange:o}),(0,e.createElement)("input",{type:"number",min:"0",max:l.maxRating,name:r,defaultValue:t.rating,value:t.rating,onChange:u})))))),(0,e.createElement)(r.PanelBody,{title:"Text Settings",initialOpen:!1},(0,e.createElement)(r.TextControl,{id:"sptcrb__rating-text",label:"Title",defaultValue:l.ratingText,onChange:function(e){i({ratingText:e})},placeholder:__("Overall Rating","sptcrb")})),(0,e.createElement)(r.PanelBody,{title:"Premium Features",initialOpen:!0},(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",null,(0,e.createElement)("a",{href:"https://superbthemes.com/plugins/superb-blocks/",target:"_blank",rel:"noopener noreferrer",style:{marginBottom:"10px",padding:"10px 20px",background:"#00bc87",color:"#fff",borderRadius:"3px",width:"100%",border:"0",cursor:"pointer",display:"block",textDecoration:"none",textAlign:"center"}},"Unlock Premium"),(0,e.createElement)("p",null,"Buy the premium version and unlock additional features such as:"),(0,e.createElement)("ul",{style:{listStyle:"circle",paddingLeft:"20px"}},(0,e.createElement)("li",null,"Content Alignment"),(0,e.createElement)("li",null,"Text Color Customization"),(0,e.createElement)("li",null,"Element Color Customization"),(0,e.createElement)("li",null,"Font Size Customization")),(0,e.createElement)("p",null,(0,e.createElement)("a",{href:"https://superbthemes.com/plugins/superb-blocks/",target:"_blank",rel:"noopener noreferrer"},"Click here")," ","or the button above to read more about Superb Blocks Premium including a full list of available blocks and features."))))),n(a))},save:n})}},r={};function a(e){var n=r[e];if(void 0!==n)return n.exports;var l=r[e]={exports:{}};return t[e](l,l.exports,a),l.exports}a.m=t,e=[],a.O=function(t,r,n,l){if(!r){var i=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],l=e[u][2];for(var s=!0,c=0;c<r.length;c++)(!1&l||i>=l)&&Object.keys(a.O).every((function(e){return a.O[e](r[c])}))?r.splice(c--,1):(s=!1,l<i&&(i=l));if(s){e.splice(u--,1);var o=n();void 0!==o&&(t=o)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[r,n,l]},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={675:0,755:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,l,i=r[0],s=r[1],c=r[2],o=0;if(i.some((function(t){return 0!==e[t]}))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(c)var u=c(a)}for(t&&t(r);o<i.length;o++)l=i[o],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(u)},r=self.webpackChunksuperb_blocks=self.webpackChunksuperb_blocks||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var n=a.O(void 0,[755],(function(){return a(209)}));n=a.O(n)}();